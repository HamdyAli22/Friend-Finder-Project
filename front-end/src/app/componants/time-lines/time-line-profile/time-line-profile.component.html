<div class="timeline-cover" [ngStyle]="{'background-image': 'url(' + getCoverImageUrl() + ')'}">

  <!-- Cover Change Icon -->
  <div class="cover-change-btn" *ngIf="profile?.id === currentUserId">
    <label>
      <i class="fa fa-camera"></i>
      <input
        type="file"
        accept="image/*"
        (change)="onCoverSelected($event)"
      >
    </label>

    <!-- Cover Delete -->
    <span
      class="cover-delete-btn"
      *ngIf="profile?.id === currentUserId && profile?.coverImageUrl"
      (click)="deleteCoverImage()">
      <i class="fa fa-trash"></i>
    </span>
  </div>

  <div class="cover-actions" *ngIf="coverImageChanged">
    <button class="save-cover" (click)="saveCoverImage()">Save</button>
    <button class="cancel-cover" (click)="cancelCoverImage()">Cancel</button>
  </div>

  <!-- Timeline Menu for Large Screens -->
  <div class="timeline-nav-bar hidden-sm hidden-xs">
    <div class="row">

      <!-- Profile Info -->
      <div class="col-md-3">
        <div class="profile-info">

          <div class="profile-photo-wrapper">
            <img [src]="getProfileImageUrl()" alt="" class="img-responsive profile-photo">

            <div class="profile-photo-icons" *ngIf="profile?.id === currentUserId">
              <!-- Profile Image Change Icon -->
              <label class="profile-change-btn">
                <i class="fa fa-camera"></i>
                <input
                  type="file"
                  accept="image/*"
                  (change)="onProfileSelected($event)"
                >
              </label>

              <!-- Delete -->
              <span
                class="profile-delete-btn"
                *ngIf="profile?.id === currentUserId && profile?.profileImageUrl"
                (click)="deleteProfileImage()">
               <i class="fa fa-trash"></i>
            </span>
            </div>
          </div>

          <div class="profile-image-actions" *ngIf="profileImageChanged">
              <span class="icon-btn save-btn" (click)="saveProfileImage()">
                  <i class="fa fa-check"></i>
              </span>
            <span class="icon-btn cancel-btn" (click)="cancelProfileImage()">
                 <i class="fa fa-times"></i>
            </span>
          </div>

          <div class="profile-text">

            <!-- Username -->
            <div class="editable-field">
              <h3 *ngIf="!editUsername">{{ profile?.username }}</h3>
              <input *ngIf="editUsername" [(ngModel)]="profile.username" type="text" class="edit-input"/>
              <span class="edit-hover-btn" (click)="toggleEdit('username')">
                <i class="fa fa-pencil-alt"></i>
              </span>
              <div *ngIf="editUsername" class="edit-actions">
                <span class="icon-btn save-btn" (click)="saveBasicInfo()"><i class="fa fa-check"></i></span>
                <span class="icon-btn cancel-btn" (click)="cancelEdit()"><i class="fa fa-times"></i></span>
              </div>
            </div>

            <!-- Bio -->
            <div class="editable-field" style="margin-top:10px;">
              <p class="text-muted" *ngIf="!editBio">{{ profile?.bio || 'No bio yet' }}</p>
              <textarea *ngIf="editBio" [(ngModel)]="profile.bio" rows="3" class="edit-textarea"></textarea>
              <span class="edit-hover-btn" (click)="toggleEdit('bio')">
                <i class="fa fa-pencil-alt"></i>
              </span>
              <div *ngIf="editBio" class="edit-actions">
                <span class="icon-btn save-btn" (click)="saveBasicInfo()"><i class="fa fa-check"></i></span>
                <span class="icon-btn cancel-btn" (click)="cancelEdit()"><i class="fa fa-times"></i></span>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- Profile Menu -->
      <div class="col-md-9">
        <ul class="list-inline profile-menu">
          <li><a routerLink="/timeline"  [queryParams]="{ userId: profile?.id }" routerLinkActive="active">Timeline</a></li>
          <li><a routerLink="/timeline-about"   [queryParams]="{ userId: profile?.id }" routerLinkActive="active">About</a></li>
          <li><a routerLink="/timeline-album"   [queryParams]="{ userId: profile?.id }" routerLinkActive="active">Album</a></li>
          <li><a routerLink="/timeline-videos"  [queryParams]="{ userId: profile?.id }" routerLinkActive="active">Videos</a></li>
          <li><a routerLink="/timeline-friends" [queryParams]="{ userId: profile?.id }" routerLinkActive="active">Friends</a></li>
        </ul>
        <ul class="follow-me list-inline">
          <li>{{profile?.friendsCount}} followers</li>
          <li *ngIf="profile?.id !== currentUserId && !isFriend && !requestSent">
            <button class="btn-primary" (click)="addFriend()">Add Friend</button>
          </li>
          <li *ngIf="requestSent && profile?.id !== currentUserId">
            <button class="btn-cancel-request" (click)="cancelRequest()">Cancel Request</button>
          </li>
          <li *ngIf="profile?.id !== currentUserId && isFriend" class="text-success" style="font-size:12px;">
            My Friend
          </li>
        </ul>
      </div>

    </div>
  </div>

</div>
